<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!--
            This template is provided for free of charge by Email on Acid, LLC.

            Every email client is different. See exactly how your email looks in the most popular inboxes, so you can fix any problems before you hit send.
            https://www.emailonacid.com/
        -->

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <title>Block Chain Explorer</title>
        <style type="text/css">
    
        </style>
    </head>
    <body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="font-family: Georgia, Times, serif;font-family:Microsoft JhengHei;">
        <!-- navigation bar -->
        <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #F5F5F5;">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html"><img src='../static/img/logo.png' width="160px;" style="margin-top: -10px;"></a>
                </div>
                <ul class="nav navbar-nav">
                    <li><a href="blockchain.html" style="font-size: 20px; margin-top: 2pt;">Dashboard</a></li>
                </ul>
                <div style="float: right;">
                    <div class="form-group" style="float: right; margin-top: 8pt;width:300pt;padding-right: 20pt;">
                        <button type="button" class="btn search" style="float: right;background-color: orange;">GO</button>
                        <div style="float: right;margin-right: 1pt;">
                            <input type="text" class="form-control" id="input_v" style="width: 100%;">   
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div style="width: 90%;margin-left: 5%;background-color: #DDDDDD;float: left;padding-top: 100px;padding-bottom: 0pt;">
            <div class="col-md-12" style="padding: 15pt;">
                <div style="width: 100%;border-bottom: solid 3pt orange;height: 28pt;">
                    <p style="width:80pt;height:28pt;background-color: orange;color: white;padding-top: 6pt;" align="center">Overview</p>
                </div>
                <div style="width: 100%;height: 28pt;background-color: #FFDDAA;">
                    <p style="color: orange;padding-top: 7pt;padding-left: 15pt;">information</p>
                </div>
                <div style="width: 100%;min-height: 430pt;border: solid 2pt #FFDDAA;background-color: white;padding:10pt;padding-top:10pt;" class="info">
                    

                </div>
            </div>

        </div>


        <footer style="width: 100%;height: 70pt;background-color: gray;float: left;">
            
        </footer>
    </body>
    <!-- Latest compiled and minified CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="../static/js/jquery-3.2.1.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../static/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        $(function () {
            loadall();   
        });
        function loadall(){
            data = getUrlVars()['v'];
            $.ajax({
                type:'GET',
                dataType: 'json',
                url: 'http://icrediable.japaneast.cloudapp.azure.com/api/blockchain/query?query='+data,
                header:{"Access-Control-Allow-Origin":"*"},
                success:function(response){
                    result = response;
                    if(result['type'] == 'block'){
                        $('.info').append("<table id='ContentPlaceHolder1_maintable' class='table nav-justified' cellpadding='0' cellspacing='0'><tr><td width='190'>&nbsp;&nbsp;TimeStamp:</td><td>"+result['timestamp']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Transactions:</td><td>"+result['transactions']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Hash:</td><td>"+result['hash']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Parent Hash:</td><td><a href='#'>"+result['parentHash']+"</a></td></tr><tr><td width='190'>&nbsp;&nbsp;Sha3Uncles:</td><td>"+result['sha3Uncles']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Mined By:</td><td><a href='#'>"+result['miner']+"</a></td></tr><tr><td width='190'>&nbsp;&nbsp;Difficulty:</td><td>"+result['difficulty']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Size:</td><td>"+result['size']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Gas Limit:</td><td>"+result['gasLimit']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Gas Used:</td><td>"+result['gasUsed']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Nonce:</td><td>"+result['nonce']+"</td></tr><tr><td width='190'>&nbsp;&nbsp;Extra Data:</td><td>"+result['extraData']+"</td></tr></table>");
                    }
                    else{
                        $('.info').append("<div style='margin-top: 10pt;' class='col-sm-3'>TxHash:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'>"+result['hash']+"</div><div style='margin-top: 10pt;' class='col-sm-3'>Block Height:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><a href='#'>"+result['blockNumber']+"</a> (<span title='No of Blocks Mined Since'>5428 block confirmations</span>)</div><div style='margin-top: 10pt;' class='col-sm-3'>From:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><a href='#'>"+result['from']+"</a></div><div style='margin-top: 10pt;' class='col-sm-3'>To:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'>Contract <a href='#'>"+result['to']+"</a> &nbsp;<font size='3' color='green'><i style='margin-top: 10pt;' class='fa fa-check-circle-o' rel='tooltip' data-placement='right' Title='Contract execution completed'></i></font></div><div style='margin-top: 10pt;' class='col-sm-3'>Value:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><span title='The amount of ETH to be transferred to the recipient with the transaction'>"+result['value']+" Ether ($0.00)</span></div><div style='margin-top: 10pt;' class='col-sm-3'>Gas Price:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><span title='The price offered to the miner to purchase this amount of GAS, per GAS.'>"+result['gasPrice']+" Ether</span></div><div style='margin-top: 10pt;' class='col-sm-3'>Cumulative Gas Used:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><span title='The total amount of gas used when this transaction was executed in the block. If being used with a smart contact, this would show the total amount of gas that has been used to interact with it'>"+result['gas']+"</span></div><div style='margin-top: 10pt;' class='col-sm-3'>Nonce:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><span title='The transaction nonce'>"+result['nonce']+"</span></div><div style='margin-top: 10pt;' class='col-sm-3'>Input Data:</div><div style='margin-top: 10pt;' class='col-sm-9 cbs'><span title='The binary data that formed the input to the transaction, either the input data if it was a message call or the contract initialisation if it was a contract creation'><textarea readonly spellcheck='false' style='width: 90%; font-size: small; font-family: Monospace; padding: 8px; background-color: #EEEEEE;margin-top: 10pt;' rows='4' id='inputdata'>"+result['input']+"</textarea>");
                    }
                },
                error:function(a,error,t){
                    console.log(a);
                    console.log(error);
                    console.log(t);
                }
            });
        }
        function getUrlVars()
        {
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for(var i = 0; i < hashes.length; i++)
            {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }
    </script>
    <script type="text/javascript">
        $(".search").click(function(){
            value = $('#input_v').val()
            if(value != ""){
                window.location.replace("blockchain_search?v="+value);
            }
        });
    </script>
    
</html>
